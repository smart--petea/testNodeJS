var fs = require('fs');

/* export */
module.exports.redirectTo = redirectTo;
module.exports.throwFile = throwFile;

/* functions */
function redirectTo(res, where) {
		res.writeHeader(301, {
			"Location": where,
		});
		res.end();
}

function throwFile(req, res, options) {
	/* options can contain the fields
		"content-type"
		filePath
	*/
	options = options || {};
	var filePath = options.filePath || "";
	var contentType = options["Content-Type"] || "text/html";

	fs.readFile(filePath, {encoding: 'utf8'}, function(err, content) {
		if(err) throw err;

		res.writeHeader(200, {
			"Content-Type": contentType,
		});

		res.end(content);
	});
}
